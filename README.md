# PAMPAr-Coder üß†‚ö°

> **"Un cerebro artificial donde el t√°lamo orquesta tokens hacia territorios especializados para generar c√≥digo."**

## ¬øQu√© es PAMPAr-Coder?

PAMPAr-Coder es un **modelo de lenguaje cerebral especializado en programaci√≥n**, dise√±ado para correr eficientemente en hardware consumer (GTX 1650, 4GB VRAM).

### Arquitectura Territorial

```
Input ‚Üí Embedding ‚Üí [BloqueTerrritorial √óN] ‚Üí LM Head ‚Üí Output
                          ‚Üì
              T√°lamo (LLAVES 80% + Atenci√≥n 20%)
                          ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                                           ‚îÇ
    ‚ñº                                           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   SINTAXIS    ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Frontera ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ   SEMANTICA   ‚îÇ
‚îÇ Keywords/Ops  ‚îÇ                    ‚îÇ  Tipos/Vars   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                                    ‚îÇ
        ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Fronteras Bidirec ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ
        ‚îÇ                                    ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    LOGICO     ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Frontera ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ ESTRUCTURAL   ‚îÇ
‚îÇ Control Flow  ‚îÇ                    ‚îÇ Bloques/Scope ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Los 4 Territorios

| Territorio | Procesa | Ejemplos |
|------------|---------|----------|
| **SINTAXIS** | Keywords, operadores | `def`, `function`, `+`, `==` |
| **SEM√ÅNTICA** | Tipos, nombres, literales | `int`, `myVar`, `"string"` |
| **L√ìGICO** | Control flow | `if`, `while`, `try`, `return` |
| **ESTRUCTURAL** | Bloques, indentaci√≥n | `{`, `}`, `:`, tabs |

## Innovaciones Clave

### üîë Sistema LLAVES
**L**inguistic **L**exical **A**nchoring for **V**ectorized **E**ntry **S**election

- **80% reglas expl√≠citas**: Routing instant√°neo basado en patrones de c√≥digo
- **20% atenci√≥n aprendida**: Ajuste fino para casos ambiguos
- **Pre-computado**: Al registrar el tokenizer, se calculan todas las activaciones

### ‚ö° Early Exit
- Si la confianza > 90%, salta capas restantes
- Acelera inferencia sin perder calidad
- Especialmente efectivo en c√≥digo (muy predecible)

### üîó Fronteras Bidireccionales
- 6 conexiones entre los 4 territorios
- Gates aprendidos regulan el flujo
- Permite que SINTAXIS informe a L√ìGICO, etc.

## Rendimiento

| Hardware | Par√°metros | VRAM | Velocidad |
|----------|------------|------|-----------|
| **GTX 1650** (4GB) | 44M | 0.44 GB | 25+ tok/s |
| **RTX 3060** (8GB) | 56M | ~1 GB | 50+ tok/s |
| **RTX 4090** (24GB) | 133M | ~3 GB | 100+ tok/s |

## Instalaci√≥n

```bash
git clone https://github.com/lucasmella-stack/PAMPAr-Coder.git
cd PAMPAr-Coder
pip install -r requirements.txt
```

## Uso R√°pido

```python
from pampar.coder import PampaRCoder, crear_modelo, CODER_4GB

# Crear modelo para tu GPU
model = crear_modelo("4GB")  # GTX 1650
model = crear_modelo("8GB")  # RTX 3060
model = crear_modelo("24GB") # RTX 4090

# O con configuraci√≥n custom
from pampar.coder import ConfigPampaRCoder
config = ConfigPampaRCoder(
    vocab_size=8000,
    dim=256,
    n_capas=6,
    peso_llaves=0.75,
    usar_early_exit=True,
)
model = PampaRCoder(config)

# Generaci√≥n
import torch
prompt = torch.tensor([[1, 2, 3, 4, 5]])  # Token IDs
generated = model.generate(
    prompt,
    max_new_tokens=100,
    temperature=0.8,
    use_early_exit=True  # ‚ö° M√°s r√°pido
)
```

## Test

```bash
python -m pytest tests/
# O directamente:
python scripts/test_coder.py
```

## Estructura del Proyecto

```
PAMPAr-Coder/
‚îú‚îÄ‚îÄ pampar/
‚îÇ   ‚îî‚îÄ‚îÄ coder/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py           # Exports
‚îÇ       ‚îú‚îÄ‚îÄ config.py             # Configuraciones (4GB, 8GB, 24GB)
‚îÇ       ‚îú‚îÄ‚îÄ llaves_codigo.py      # üîë Sistema LLAVES para c√≥digo
‚îÇ       ‚îú‚îÄ‚îÄ territorios_codigo.py # üèõÔ∏è 4 territorios especializados
‚îÇ       ‚îî‚îÄ‚îÄ model.py              # üöÄ Modelo PampaRCoder
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ test_coder.py             # Tests
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

## Filosof√≠a

Inspirado en la arquitectura PAMPAr-o1, PAMPAr-Coder aplica el concepto de **territorios cerebrales** al dominio espec√≠fico del c√≥digo:

1. **El c√≥digo es estructurado** ‚Üí M√°s peso a reglas (LLAVES 80%)
2. **El c√≥digo es predecible** ‚Üí Early exit agresivo
3. **El c√≥digo tiene patrones** ‚Üí Territorios especializados
4. **Hardware consumer** ‚Üí Optimizado para GTX 1650

> *"No necesitas 72 billones de par√°metros. Necesitas la arquitectura correcta."*

## Licencia

AGPL-3.0-or-later

Copyright (c) 2024-2026 Lucas Ricardo Mella Chillemi

## Pr√≥ximos Pasos

- [ ] Script de entrenamiento
- [ ] Dataset de c√≥digo (Python, JS, Rust)
- [ ] Tokenizer BPE especializado
- [ ] Benchmarks vs CodeLlama/StarCoder
- [ ] Integraci√≥n con VS Code

---

**PAMPAr-Coder** - C√≥digo generado por territorios cerebrales üß†‚ö°
